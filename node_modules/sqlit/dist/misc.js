"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.promiseAll = exports.toArray = void 0;
function toArray(args) {
    return Array.isArray(args) ? args : [args];
}
exports.toArray = toArray;
const reflect = p => p.then(value => ({ value }), error => ({ error }));
function promiseAll(promises) {
    return Promise.all(promises.map(reflect)).then(results => {
        const error = results.find(result => 'error' in result);
        if (error) {
            throw error.error;
        }
        else {
            return results.map(result => result.value);
        }
    });
}
exports.promiseAll = promiseAll;
//# sourceMappingURL=misc.js.map